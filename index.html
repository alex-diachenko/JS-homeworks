<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/rainbow.css">
  <link rel="stylesheet" href="styles/style.css">
  <title>Homeworks</title>
  
</head>

<body>
  <div class="wrapper">
    <nav>
      <ul>
        <li>
          <a href="#hw1">H/w №1</a>
        </li>
        <li>
          <a href="#hw2">H/w №2</a>
        </li>
        <li>
          <a href="#hw3">H/w №3</a>
        </li>
        <li>
          <a href="#hw4">H/w №4</a>
        </li>
      </ul>
    </nav>
      <h1 id="hw1">Homework 1</h1>
      <div class="task" >
        
        <h3>Task 1</h3>
        <p>Нарисуйте блок-схему алгоритма, который проверяет значение входного параметра x, и если это значение больше или равно 0, то возвращает в качестве результата строку "Число положительное", в противном случае - строку "Число отрицательное"</p>
        <a href="./random/scheme1.svg">Схема 1</a>

        <h3>Task 2</h3>
        <p>Нарисуте блок-схему алгоритма суммирования 10 чисел, кратных 5 ( начиная с 0 )</p>
        <a href="./random/scheme2.svg">Схема 2</a>

        <h3>Task 3</h3>
        <p>Напилите кодец, который работает с массивом произвольных целых чисел</p>
        <p>Ваш скрипт должен вывести в консоль все числа больше 50</p>
      </div>

      <div class="solution" contenteditable="true" id="scriptContent">

        <pre >
          <code data-language="javascript" > 
              function hw1() {
                var numbers = [254, 115, 78, 25, 91, 45, 37];

                for (var i = 0; i < numbers.length; i++) {
                  if (numbers[i] > 50) {
                    console.log(numbers[i]);
                  }
                }
              }
              hw1();
        
        </code>
      </pre>
    </div>

      <button type="button" id="scriptContent" onclick="changeScript('scriptContent')"> Run </button>

      <hr class="split-homeworks">

      <h1 id="hw2">Homework 2</h1>
      <div class="task">
        
        <h3>Task 1</h3>
        <p>Создайте пустой массив letters
          Создайте строку из нескольких слов, например "Backend As A Service"
          Напилите код, который разбивает эту строку на массив слов и пушит в массив letters первый символ каждого слова
          Выведите результат в консоль
          Объедините все элементы массива letters в одну строку и выведите ее в консоль</p>

        <h3>Task 2</h3>
        <p>Объявите функцию с одним формальным параметром, которая проверяет тип данных переданного аргумента и:
          если это число, возвращает текущую дату в формате "20.02.2019, 13:21:51"
          в противном случае возвращает строку "Неверный тип данных"
          Вызовите функцию</p>

        <h3>Task 3</h3>
        <p>Ваша задача: обезопасить свою страницу от внедрения вредоносного кода с помощью функции валидации testUserText
            функция должна вывести на страницу текст пользователя безопасным способом 
            ( т.е. текст должен быть выведен "as is" ( как есть ), но код не должен быть выполнен )</p>

      </div>

      <div class="solution" contenteditable="true" id="scriptContent2">

          <pre >
            <code data-language="javascript" > 
            
            //Task 1
            var letters = [];

            var str = 'Backend As A Service';

            function getFirstLetter(string) {
              var res = str.split(" ");
              res.forEach(word => {
                letters.push(word.charAt(0))
              })
              return letters.join('');
            }
            console.log(getFirstLetter(str));
            
            //Task 2

            function dataType(data) {
              return typeof data === "number" ? new Date().toLocaleString() : 'Неверный тип данных'
            }
            console.log(dataType(5));

        </code>
        </pre>
      </div>

    <button type="button" id="scriptContent2" onclick="changeScript('scriptContent2')"> Run </button>
    <h4>Task 3</h4>
    <img src="images/task2-3.png" alt="task2-3">

  <hr class="split-homeworks">
      
  <h1 id="hw3">Homework 3</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Объявите функцию без формальных параметров, которая выводит в консоль сама себя и все переданные ей аргументы
      Вызовите эту функцию с аргументами 10, false, "google"
    </p> 


    <h3>Task 2</h3>
    <p>
      Объявите функцию userInfo, которая выводит в консоль сообщение:
      "Дата регистрации: " + свойство data контекста вызова, если свойство registered имеет значение true
      "Незарегистрированный пользователь: " + свойство name в противном случае
      ( используйте переменные в литералах )
      Создайте два объекта с одинаковым набором свойств:
      name ( строка )
      registered ( логическое значение )
      data ( дата в формате "дд.мм.гг" )
      Добавьте каждому объекту метод getInfo, который будет ссылкой на функцию userInfo
      Вызовите каждый метод
    </p>
    
    <h3>Task 3</h3>
    <p>
      Есть три объекта: users, posts и comments
      Написать код функции getPostComments ( postId ),
      которая возвращает массив всех комментариев к посту
      с идентификатором postId
      ( с именем автора комментария и текстом комментария )
      you should write the code of function  getCurrentPostComments
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent3">

    <pre >
      <code data-language="javascript" > 
          //task 1
  
          function arg() {
            return arguments;
          }
          console.log(arg(10, false, "google"));

          //task 2

          function userInfo() {
            if(this.registered === true) {
              return `"Дата регистрации: " ${this.data}`
            } else {
              return `"Незарегистрированный пользователь: " ${this.name}`
            }
          }
          let user1 = {
            name: 'Stepan',
            registered: false,
            data: "12.05.2018",
            getInfo: userInfo 
          }
          let user2 = {
            name: 'Larisa',
            registered: true,
            data: "11.11.2017",
            getInfo: userInfo 
          }
          
          console.log(user1.getInfo());
          console.log(user2.getInfo());

          //task 3

          var users = {
            14587: {
                    name: "Ivan",
                    email: "ivan78@gmail.com"
            },
            28419: {
                    name: "Georg",
                    email: "georg.klep@gmail.com"
            },
            41457: {
                    name: "Stephan",
                    email: "stephan.borg@gmail.com"
            }
          }
          var posts = {
            7891451: {
                    author: 14587,
                    text: "Imagine we can encapsulate these secondary responsibilities in functions"
            },
            7891452: {
                    author: 28419,
                    text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор. 
                            Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора. 
                            Ключевое слово super также может быть использовано для вызова функций родительского объекта`
            },
            7891453: {
                    author: 28419,
                    text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое. 
                            Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`
            },
            7891454: {
                    author: 14587,
                    text: "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта"
            }
          }
          var comments = {
            91078454: {
                    postId: 7891451,
                    author: 28419,
                    text: `The static String.fromCharCode() method returns a string created 
                            from the specified sequence of UTF-16 code units`
            },
            91078455: {
                    postId: 7891451,
                    author: 41457,
                    text: `HTML элемент template — это механизм для отложенного рендера клиентского контента, 
                            который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`
            },
            91078457: {
                    postId: 7891452,
                    author: 41457,
                    text: "Глобальный объект String является конструктором строк, или, последовательностей символов"
            },
            91078458: {
                    postId: 7891452,
                    author: 14587,
                    text: `The Element.namespaceURI read-only property returns the namespace URI of the element, 
                            or null if the element is not in a namespace`
            }
          }
          
          function getCurrentPostComments ( postId ) {
            var res = [];
          
            for (var key in comments) {
              if(comments[key].postId === postId) {
                res.push({
                  comment: comments[key].text,
                  author: users[comments[key].author].name
                })
              }
            }
          
            return res;
          }
          console.log ( getCurrentPostComments ( 7891451 ) )
    </code>
  </pre>
</div>

  <button type="button" id="scriptContent3" onclick="changeScript('scriptContent3')"> Run </button>

  <hr class="split-homeworks">

  <h1 id="hw4">Homework 4</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Создайте объект, свойства которого описывают содержимое дамской сумочки
      Создайте метод объекта, позволяющий удалить что-то из сумочки
      Создайте метод объекта, позволяющий положить что-то в сумочку
    </p> 

    <h3>Task 2</h3>
    <p>
      Объявить конструктор LibraryBook, с помощью которого можно создавать и редактировать объекты, хранящие информацию о книгах в библиотеке
      Приватные свойства объекта:<br>
          🔑 title ( название книги ),<br>
          🔑 year ( год издания ),<br>
          🔑 author ( автор ),<br>
          🔑 readerName ( кому выдана ),<br>
          🔑 readerData ( когда выдана )<br>

      📦 Приватный метод 🔑 giveTheBook ( client ):<br>
              внесение изменений в свойства:<br>
                  🔑 readerName ( client )<br>
                  🔑 readerData ( текущая дата )<br>

      📋 Публичные методы:<br>
          📋 getBookInfo () - посмотреть информацию о наличии книги <br>
              ( вывести в консоль readerData )<br>
          📋 getTheBook ( client ) -  получить книгу:<br>
              проверка, что книга не выдана на руки <br>
              ( приватное свойство readerName <br>
                должно быть пустой строкой )<br>
              если выдана - вернуть null<br>
              если не выдана, то вызвать приватный метод <br>
              giveTheBook ( client ) и вернуть bookTitle<br>
          📋 returnBook () - вернуть книгу:<br>
              сбросить значения приватных свойств<br>
              readerName, readerData<br>
      Создайте экземпляр книги<br>
      Запросите экземпляр от имени ... ( любое имя )<br>
    </p>
    
    <h3>Task 3</h3>
    <p>
      Объявите конструктор, который создает экземпляры с унаследованным методом addProperty
      Метод addProperty должен принимать два аргумента:
      имя свойства
      значение свойства
      и добавлять экземпляру новое свойство с указанным именем и значением
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent4">

    <pre>
      <code data-language="javascript"> 
        //task 1

        var womanBag = {
          phone: 'samsung',
          keysFrom: 'flat', 
          pomade: true,
          laptop: 'hp',
          add(key, value) {
            return this[key] = value;
          },
          remove(key) {
            return delete this[key];
          }
        }
        console.log(womanBag.add('notebook', '48 pages'));
        console.log(womanBag);
        console.log(womanBag.remove('pomade')); 
        console.log(womanBag);

        //task 2

        function LibraryBook(title, year, author) {
          this.title = title;
          this.year = year;
          this.author = author;
          var readerName = null;
          var readerData = null;
        
          var giveTheBook = function(client, data = new Date()) {
            readerName = client;
            readerData = data;
          }
        
          this.getBookInfo = function() {
            var text = readerName ? "выдана на руки" : "есть в наличии"
            console.log ( `${this.author}, ${this.title} (${this.year}): ${text}` )
          }
          this.getTheBook = function ( client, data ) {
            if ( readerName ) {
              this.getBookInfo ()
              return null
            } else {
              giveTheBook ( client, data )
              return { title: title }
            }
          }
          this.returnBook = function () {
            readerName = null
            readerData = null
          }
        }
        
        var book = new LibraryBook('book1', 2019, 'author1');
        console.log(book);
        console.log(book.getBookInfo())
        console.log(book.getTheBook('Alyosha', new Date(06, 08, 2020)))
        console.log(book.getBookInfo())
        console.log(book.returnBook())
        console.log(book.getBookInfo())

        //task 3

        function Constructer(name) {
          this.name = name;
        }
        Constructer.prototype.addProperty = function (key, value){
          return this[key] = value;
        }
        var user = new Constructer('Natasha');
        console.log(user);
        user.addProperty('has-flat', true );
        console.log(user);

      </code>
    </pre>
</div>

  <button type="button" id="scriptContent4" onclick="changeScript('scriptContent4')"> Run </button>

  <hr class="split-homeworks">

  </div>

  <script src="./scripts/rainbow-custom.min.js"></script>
  <script src="./scripts/genericjs.js"></script>
  <script src="./scripts/main.js"></script>
</body>
</html>