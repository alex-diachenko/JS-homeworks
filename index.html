<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/rainbow.css">
  <link rel="stylesheet" href="styles/style.css">
  <title>Homeworks</title>
  
</head>

<body>
  <div class="wrapper">
    <nav>
      <ul>
        <li>
          <a href="#hw1">H/w №1</a>
        </li>
        <li>
          <a href="#hw2">H/w №2</a>
        </li>
        <li>
          <a href="#hw3">H/w №3</a>
        </li>
        <li>
          <a href="#hw4">H/w №4</a>
        </li>
        <li>
          <a href="#hw5">H/w №5</a>
        </li>
        <li>
          <a href="#hw6">H/w №6</a>
        </li>
        <li>
          <a href="#hw7">H/w №7</a>
        </li>
        <li>
          <a href="#hw8">H/w №8</a>
        </li>
        <li>
          <a href="#hw9">H/w №9</a>
        </li>
        <li>
          <a href="#hw10">H/w №10</a>
        </li>
      </ul>
    </nav>
      <h1 id="hw1">Homework 1</h1>
      <div class="task" >
        
        <h3>Task 1</h3>
        <p>Нарисуйте блок-схему алгоритма, который проверяет значение входного параметра x, и если это значение больше или равно 0, то возвращает в качестве результата строку "Число положительное", в противном случае - строку "Число отрицательное"</p>
        <a href="./random/scheme1.svg">Схема 1</a>

        <h3>Task 2</h3>
        <p>Нарисуте блок-схему алгоритма суммирования 10 чисел, кратных 5 ( начиная с 0 )</p>
        <a href="./random/scheme2.svg">Схема 2</a>

        <h3>Task 3</h3>
        <p>Напилите кодец, который работает с массивом произвольных целых чисел</p>
        <p>Ваш скрипт должен вывести в консоль все числа больше 50</p>
      </div>

      <div class="solution" contenteditable="true" id="scriptContent">

        <pre >
          <code data-language="javascript" > 
              function hw1() {
                var numbers = [254, 115, 78, 25, 91, 45, 37];

                for (var i = 0; i < numbers.length; i++) {
                  if (numbers[i] > 50) {
                    console.log(numbers[i]);
                  }
                }
              }
              hw1();
        
        </code>
      </pre>
    </div>

      <button type="button" id="scriptContent" onclick="changeScript('scriptContent')"> Run </button>

      <hr class="split-homeworks">

      <h1 id="hw2">Homework 2</h1>
      <div class="task">
        
        <h3>Task 1</h3>
        <p>Создайте пустой массив letters
          Создайте строку из нескольких слов, например "Backend As A Service"
          Напилите код, который разбивает эту строку на массив слов и пушит в массив letters первый символ каждого слова
          Выведите результат в консоль
          Объедините все элементы массива letters в одну строку и выведите ее в консоль</p>

        <h3>Task 2</h3>
        <p>Объявите функцию с одним формальным параметром, которая проверяет тип данных переданного аргумента и:
          если это число, возвращает текущую дату в формате "20.02.2019, 13:21:51"
          в противном случае возвращает строку "Неверный тип данных"
          Вызовите функцию</p>

        <h3>Task 3</h3>
        <p>Ваша задача: обезопасить свою страницу от внедрения вредоносного кода с помощью функции валидации testUserText
            функция должна вывести на страницу текст пользователя безопасным способом 
            ( т.е. текст должен быть выведен "as is" ( как есть ), но код не должен быть выполнен )</p>

      </div>

      <div class="solution" contenteditable="true" id="scriptContent2">

          <pre >
            <code data-language="javascript" > 
            
            //Task 1
            var letters = [];

            var str = 'Backend As A Service';

            function getFirstLetter(string) {
              var res = str.split(" ");
              res.forEach(word => {
                letters.push(word.charAt(0))
              })
              return letters.join('');
            }
            console.log(getFirstLetter(str));
            
            //Task 2

            function dataType(data) {
              return typeof data === "number" ? new Date().toLocaleString() : 'Неверный тип данных'
            }
            console.log(dataType(5));

        </code>
        </pre>
      </div>

    <button type="button" id="scriptContent2" onclick="changeScript('scriptContent2')"> Run </button>
    <h4>Task 3</h4>
    <img src="images/task2-3.png" alt="task2-3">

  <hr class="split-homeworks">
      
  <h1 id="hw3">Homework 3</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Объявите функцию без формальных параметров, которая выводит в консоль сама себя и все переданные ей аргументы
      Вызовите эту функцию с аргументами 10, false, "google"
    </p> 


    <h3>Task 2</h3>
    <p>
      Объявите функцию userInfo, которая выводит в консоль сообщение:
      "Дата регистрации: " + свойство data контекста вызова, если свойство registered имеет значение true
      "Незарегистрированный пользователь: " + свойство name в противном случае
      ( используйте переменные в литералах )
      Создайте два объекта с одинаковым набором свойств:
      name ( строка )
      registered ( логическое значение )
      data ( дата в формате "дд.мм.гг" )
      Добавьте каждому объекту метод getInfo, который будет ссылкой на функцию userInfo
      Вызовите каждый метод
    </p>
    
    <h3>Task 3</h3>
    <p>
      Есть три объекта: users, posts и comments
      Написать код функции getPostComments ( postId ),
      которая возвращает массив всех комментариев к посту
      с идентификатором postId
      ( с именем автора комментария и текстом комментария )
      you should write the code of function  getCurrentPostComments
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent3">

    <pre >
      <code data-language="javascript" > 
          //task 1
  
          function arg() {
            return arguments;
          }
          console.log(arg(10, false, "google"));

          //task 2

          function userInfo() {
            if(this.registered === true) {
              return `"Дата регистрации: " ${this.data}`
            } else {
              return `"Незарегистрированный пользователь: " ${this.name}`
            }
          }
          let user1 = {
            name: 'Stepan',
            registered: false,
            data: "12.05.2018",
            getInfo: userInfo 
          }
          let user2 = {
            name: 'Larisa',
            registered: true,
            data: "11.11.2017",
            getInfo: userInfo 
          }
          
          console.log(user1.getInfo());
          console.log(user2.getInfo());

          //task 3

          var users = {
            14587: {
                    name: "Ivan",
                    email: "ivan78@gmail.com"
            },
            28419: {
                    name: "Georg",
                    email: "georg.klep@gmail.com"
            },
            41457: {
                    name: "Stephan",
                    email: "stephan.borg@gmail.com"
            }
          }
          var posts = {
            7891451: {
                    author: 14587,
                    text: "Imagine we can encapsulate these secondary responsibilities in functions"
            },
            7891452: {
                    author: 28419,
                    text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор. 
                            Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора. 
                            Ключевое слово super также может быть использовано для вызова функций родительского объекта`
            },
            7891453: {
                    author: 28419,
                    text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое. 
                            Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`
            },
            7891454: {
                    author: 14587,
                    text: "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта"
            }
          }
          var comments = {
            91078454: {
                    postId: 7891451,
                    author: 28419,
                    text: `The static String.fromCharCode() method returns a string created 
                            from the specified sequence of UTF-16 code units`
            },
            91078455: {
                    postId: 7891451,
                    author: 41457,
                    text: `HTML элемент template — это механизм для отложенного рендера клиентского контента, 
                            который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`
            },
            91078457: {
                    postId: 7891452,
                    author: 41457,
                    text: "Глобальный объект String является конструктором строк, или, последовательностей символов"
            },
            91078458: {
                    postId: 7891452,
                    author: 14587,
                    text: `The Element.namespaceURI read-only property returns the namespace URI of the element, 
                            or null if the element is not in a namespace`
            }
          }
          
          function getCurrentPostComments ( postId ) {
            var res = [];
          
            for (var key in comments) {
              if(comments[key].postId === postId) {
                res.push({
                  comment: comments[key].text,
                  author: users[comments[key].author].name
                })
              }
            }
          
            return res;
          }
          console.log ( getCurrentPostComments ( 7891451 ) )
      </code>
    </pre>
  </div>

  <button type="button" id="scriptContent3" onclick="changeScript('scriptContent3')"> Run </button>

  <hr class="split-homeworks">

  <h1 id="hw4">Homework 4</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Создайте объект, свойства которого описывают содержимое дамской сумочки
      Создайте метод объекта, позволяющий удалить что-то из сумочки
      Создайте метод объекта, позволяющий положить что-то в сумочку
    </p> 

    <h3>Task 2</h3>
    <p>
      Объявить конструктор LibraryBook, с помощью которого можно создавать и редактировать объекты, хранящие информацию о книгах в библиотеке
      Приватные свойства объекта:<br>
          🔑 title ( название книги ),<br>
          🔑 year ( год издания ),<br>
          🔑 author ( автор ),<br>
          🔑 readerName ( кому выдана ),<br>
          🔑 readerData ( когда выдана )<br>

      📦 Приватный метод 🔑 giveTheBook ( client ):<br>
              внесение изменений в свойства:<br>
                  🔑 readerName ( client )<br>
                  🔑 readerData ( текущая дата )<br>

      📋 Публичные методы:<br>
          📋 getBookInfo () - посмотреть информацию о наличии книги <br>
              ( вывести в консоль readerData )<br>
          📋 getTheBook ( client ) -  получить книгу:<br>
              проверка, что книга не выдана на руки <br>
              ( приватное свойство readerName <br>
                должно быть пустой строкой )<br>
              если выдана - вернуть null<br>
              если не выдана, то вызвать приватный метод <br>
              giveTheBook ( client ) и вернуть bookTitle<br>
          📋 returnBook () - вернуть книгу:<br>
              сбросить значения приватных свойств<br>
              readerName, readerData<br>
      Создайте экземпляр книги<br>
      Запросите экземпляр от имени ... ( любое имя )<br>
    </p>
    
    <h3>Task 3</h3>
    <p>
      Объявите конструктор, который создает экземпляры с унаследованным методом addProperty
      Метод addProperty должен принимать два аргумента:
      имя свойства
      значение свойства
      и добавлять экземпляру новое свойство с указанным именем и значением
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent4">

    <pre>
      <code data-language="javascript"> 
        //task 1

        var womanBag = {
          phone: 'samsung',
          keysFrom: 'flat', 
          pomade: true,
          laptop: 'hp',
          add(key, value) {
            return this[key] = value;
          },
          remove(key) {
            return delete this[key];
          }
        }
        console.log(womanBag.add('notebook', '48 pages'));
        console.log(womanBag);
        console.log(womanBag.remove('pomade')); 
        console.log(womanBag);

        //task 2

        function LibraryBook(title, year, author) {
          this.title = title;
          this.year = year;
          this.author = author;
          var readerName = null;
          var readerData = null;
        
          var giveTheBook = function(client, data = new Date()) {
            readerName = client;
            readerData = data;
          }
        
          this.getBookInfo = function() {
            var text = readerName ? "выдана на руки" : "есть в наличии"
            console.log ( `${this.author}, ${this.title} (${this.year}): ${text}` )
          }
          this.getTheBook = function ( client, data ) {
            if ( readerName ) {
              this.getBookInfo ()
              return null
            } else {
              giveTheBook ( client, data )
              return { title: title }
            }
          }
          this.returnBook = function () {
            readerName = null
            readerData = null
          }
        }
        
        var book = new LibraryBook('book1', 2019, 'author1');
        console.log(book);
        console.log(book.getBookInfo())
        console.log(book.getTheBook('Alyosha', new Date(06, 08, 2020)))
        console.log(book.getBookInfo())
        console.log(book.returnBook())
        console.log(book.getBookInfo())

        //task 3

        function Constructer(name) {
          this.name = name;
        }
        Constructer.prototype.addProperty = function (key, value){
          return this[key] = value;
        }
        var user = new Constructer('Natasha');
        console.log(user);
        user.addProperty('has-flat', true );
        console.log(user);

      </code>
    </pre>
  </div>

  <button type="button" id="scriptContent4" onclick="changeScript('scriptContent4')"> Run </button>

  <hr class="split-homeworks">


  <h1 id="hw5">Homework 5</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Напилить код функции modificator, такой, чтобы в результате работы кода:
      в консоли было:
      sampleFunc: test | sample
    </p> 

    <h3>Task 2</h3>
    <p>
      Напилить код функции modificator, такой, чтобы в результате работы кода:
      в консоль было выведено число символов в коде функции sampleFunc, т.е.:
      Symbols in my code: 93
    </p>
    
    <h3>Task 3</h3>
    <p>
      Напилите код функции generateError, такой, чтобы в результате работы кода:
      в консоли было сообщение от ошибке:
      ► Application: Invalid arguments
      Function needs 3 arguments, but only 1 present
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent5">

    <pre>
      <code data-language="javascript"> 
        //task 1

        function sampleFunc () {
          console.log ( `${arguments.callee.name}: ${arguments[0]} | ${arguments[1]}` )
        }
        
        function modificator ( func, context, ...args ) {
          func.call ( context, ...args )
        }
        
        var testFunc = modificator( sampleFunc, testFunc, 'test',  'sample')
        
        console.log(testFunc)

        //task 2

        function sampleFunc () {
          console.info ( `Symbols in my code: ${ arguments.callee + 0 }` )
        }  
        
        function modificator ( func ) {
          return `Symbols in my code: ${func.toString().length}`
        }
        
        console.log(modificator( sampleFunc ))

        //task 3

        function testArguments () {
          try {
          arguments.length >= 3 ? null : generateError ( arguments.length )
        
          function generateError ( numArgs ) {
              if(numArgs < 3 ) {
                  var err = new Error ( "Invalid arguments" )
                  err.name = "Application"
                  throw err
              }
          }
          } 
          catch ( err ) {
              console.error ( `${err.name}: ${err.message}` )
          }
        }
         
        
        console.log(testArguments ( "Google" ))
      </code>
    </pre>
  </div>

  <button type="button" id="scriptContent5" onclick="changeScript('scriptContent5')"> Run </button>

  <hr class="split-homeworks">


  <h1 id="hw6">Homework 6</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Создайте массив tags с именами валидных тегов HTML5<br>
      Теперь создайте массив classes с именами классов<br>
      ( число элементов в массиве classes должно быть не меньше, чем число элементов массива tags )<br>
      Создайте элемент style и вставьте его в head документа<br>
      Добавьте контент элемента style с описанием классов, имена которых находятся в массиве classes<br>
      Итерируйте массив tags, создавая соответствующие элементы и вставляя их на страницу, добавляя каждому элементу класс из массива classes
    </p> 

    <h3>Task 2</h3>
    <p>
      Результат должен быть аналогичен тому, что получится в предыдущем упражнении<br>
      Однако исходный массив tags должен быть массивом объектов, каждый из которых содержит не только имя тега элемента, <br>
      но и его атрибуты, а так же хотя бы один обработчик события<br>
      Таким образом, массив classes нам уже не нужен, но кроме стилизации элементов нужно еще добавить их контент,<br>
      используя как атрибуты тегов, так и свойства элементов DOM
    </p>
    
    <h3>Task 3</h3>
    <p>
      Напилить код, который выбирает все элементы-потомки body ( :warning: кроме элементов script ) и добавляет им класc:<br>
      .redBack {<br>
          background-color: red!important;<br>
      }<br>
      Альтернативный вариант - выбрать все заранее заданные элементы:<br>
      var tags = [ "header", "footer", "main", "div", "p" ]<br>
      Запустить код в консоли любой страницы<br>
      Подсказка: используйте методы объекта classList
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent6">

    <pre>
      <code data-language="javascript"> 
        //task 1

        var tags = ['div', 'p', 'h1', 'h2', 'span'];
        var classes = ['block', 'text', 'header1', 'header2', 'random'];
        var style = document.createElement ( 'style' );
        style.innerText = `
          .block { border: 1px solid blue; width: 500px; height: 20px; }
          .text { background: green; width: 500px; height: 20px; }
          .header1 { background: yellow; width: 500px; height: 20px;}
          .header2 { background: brown; width: 500px; height: 20px;}
          .random { background: purple; width: 500px; height: 20px; display: block;}
        `;
        document.head.appendChild ( style );

        tags.forEach((val) => {
          var element = document.createElement(val)
          document.body.appendChild(element);  
        })
        var elements = document.querySelectorAll( 'body > *' );
        elements.forEach((val,idx) => val.classList.add(classes[idx]));

        //task 2

        var tags = [
          {
            tagTitle: "div",
            classTitle: "block",
            style: `width: 200px; height: 100px; background-color: green;`,
            event1: function(event){
              this.style.backgroundColor = "red"
            },
            event2: function(event){
              this.style.backgroundColor = "green"
            },
            innerText: 'This is div!'
          },
          {
            tagTitle: "p",
            classTitle: "text",
            style: `width: 200px; height: 100px; background-color: green;`,
            event1: function(event){
              this.style.backgroundColor = "yellow"
            },
            event2: function(event){
              this.style.backgroundColor = "green"
            },
            innerText: 'This is paragraph!'
          },
          {
            tagTitle: "h1",
            classTitle: "header1",
            style: `width: 200px; height: 100px; background-color: green;`,
            event1: function(event){
              this.style.backgroundColor = "brown"
            },
            event2: function(event){
              this.style.backgroundColor = "green"
            },
            innerText: 'This is h1'
          },
          {
            tagTitle: "h2",
            classTitle: "header2",
            style: `width: 200px; height: 100px; background-color: green;`,
            event1: function(event){
              this.style.backgroundColor = "blue"
            },
            event2: function(event){
              this.style.backgroundColor = "green"
            },
            innerText: 'This is h2'
          },
        ];
      
      
        tags.forEach(tag => {
          var element = document.createElement(tag.tagTitle);
          element.style = tag.style
          element.innerText = tag.innerText
          element.onmouseover = tag.event1;
          element.onmouseout = tag.event2;
          document.body.appendChild(element);
        })

        //task 3

        var style = document.createElement ( 'style' );
        style.innerText = `
            .redBack {
              background-color: red!important;
            }
        `;
        document.head.appendChild ( style );
        var elements = document.querySelectorAll( '*' );
        elements.forEach((val) => {
          if(val !== 'script') {
            val.classList.add('redBack')
          }
        })
         
      </code>
    </pre>
  </div>

  <hr class="split-homeworks">

  <h1 id="hw7">Homework 7</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Создайте элемент 'p', при клике на котором появляется картинка размером 100px<br>
      При наведении указателя мышки на картинку ее размер должен плавно увеличиваться до 200px<br>
      При клике на картинке она должна исчезать
    </p> 

    <h3>Task 2</h3>
    <p>
      Создайте коллекцию вложенных друг в друга html-элементов с обработчиками событий click, mouseover, mouseout<br>
      Установите атрибуты стиля width и height такие, чтобы вложенные элементы были меньше размером, чем родитель<br>
      Установите значение #ff00ff50 атрибута background-color каждому элементу<br>
      Установите значение dotted 1px yellow; атрибута border каждому элементу<br>
      При наступлении события mouseover значение атрибута background-color должно меняться на #ffff0050<br>
      При наступлении события mouseout атрибуту background-color должно устанавливаться исходное значение<br>
      При наступлении события click элемент должен быть удален<br>
      При наведении мышки на элемент должна появляться подсказка с его именем ( "first", "second", "third", "fourth" )
    </p>
    
    <h3>Task 3</h3>
    <p>
      Условия предыдущего задания изменить так:<br>
      при удалении элемента его потомки должны оставаться
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent7">

    <pre>
      <code data-language="javascript"> 
        //Task 1

        var paragraph = document.createElement("p");
        paragraph.innerText=`Random text`
        var img =  document.createElement("img");
        img.src = "https://cdn.wallpapersafari.com/69/80/Dp4IwZ.png"
        img.style = `display: none; `

        paragraph.onclick = function(event) {
          img.style = `display: block; width: 100px; height: auto; transition: 2s ease; position: absolute; top: 50px;`
        }
        img.onmouseover = function(event) {
          img.style = `display: block; width: 200px; height: auto; transition: 2s ease; position: absolute; top: 50px;`  
        }
        img.onclick = function(event) {
          img.style = `display: none;`
        }

        document.body.appendChild(img); 
        document.body.appendChild(paragraph); 

        //Task 2
         
        var div = document.createElement('div');
        var p = document.createElement('p');
        var a = document.createElement('a');
        var span = document.createElement('span');
        div.appendChild(p);
        p.appendChild(a);
        a.appendChild(span)
        div.style = `width: 300px; height: 300px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        p.style = `width: 230px; height: 230px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        a.style = `width: 180px; height: 180px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        span.style = `width: 100px; height: 100px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`

        var collection = [ div, p, a, span ];
        var hints = ["first", "second", "third", "fourth"];

        collection.forEach((tag, idx) => {

          tag.onmouseover = function over ( event ) {
            this.style.backgroundColor = "#ffff0050";
          }
          tag.onmouseout = function out ( event ) {
            this.style.backgroundColor = "#ff00ff50";
          }
          tag.onclick = function clickHandler ( event ) {
            var elem = event.target
            var elemChildren = event.target.children;
            elem.remove()
          }
          tag.title = hints[idx];
        })

        document.body.appendChild(div);

        //Task 3

        var div = document.createElement('div');
        var nav = document.createElement('nav');
        var ul = document.createElement('ul');
        var li = document.createElement('li');
        var p = document.createElement('p');
        var a = document.createElement('a');
        var span = document.createElement('span');
        div.appendChild(nav);
        nav.appendChild(ul);
        ul.appendChild(li);
        li.appendChild(p);
        p.appendChild(a);
        a.appendChild(span);
        div.style = `width: 450px; height: 450px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        nav.style = `width: 400px; height: 400px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        ul.style = `width: 350px; height: 350px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        li.style = `width: 300px; height: 300px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        p.style = `width: 250px; height: 250px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        a.style = `width: 210px; height: 210px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`
        span.style = `width: 100px; height: 100px; background-color: #ff00ff50; border: 1px dotted yellow; display: block;`

        var collection = [ div, nav, ul, li, p, a, span ];
        var hints = [1, 2, 3, 4, 5, 6, 7];

        collection.forEach((tag, idx) => {

          tag.onmouseover = function enter ( event ) {
            this.style.backgroundColor = "#ffff0050";
          }
          tag.onmouseout = function leave ( event ) {
            this.style.backgroundColor = "#ff00ff50";
          }
          tag.onclick = function clickHandler ( event ) {
            var elem = event.target;
            var elemChildren = event.target.children;
            
            [...elemChildren].forEach(element => {
              event.target.parentElement.insertAdjacentElement('beforeEnd', element);
            });

            elem.remove();
          }

          tag.title = hints[idx];

        })

        document.body.appendChild(div);
      </code>
    </pre>
  </div>

  <hr class="split-homeworks">

  <h1 id="hw8">Homework 8</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Напилите код, выводящий на страницу текущее время в течение 100 секунд<br>
      Подсказка: создайте элемент, в котором будет отображаться текущее время<br>
      Контент элемента должен обновляться каждую секунду
    </p> 

    <h3>Task 2</h3>
    <p>
      Завершите код рекурсивной функции typeMessage так,<br>
      чтобы при ее вызове на страницу выводился один символ в секунду
    </p>
    
    <h3>Task 3</h3>
    <p>
      Нужно сделать так, чтобы у всех экзепляров, созданных конструктором User, <br>
      был унаследованный метод counter(), который считает созданные конструктором экземпляры<br>
      Каждый вызов конструктора увеличивает счетчик экземпляров на 1 <br>
      и помещать новое значение счетчика в свойство id созданного экземпляра:<br>
      После выполнения кода:<br>
      users[1].id = users[1].counter()<br>
      свойство id экземпляра не должно измениться, так же, как и значение счетчика
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent8">

    <pre>
      <code data-language="javascript"> 
        //Task 1

        var p = document.createElement('p');
        (function iterate(i) {
          var time = new Date();
          
          setTimeout(function() {
              p.innerHTML = `Real time:  ${ time.toLocaleTimeString('eu-UA', { hour12: false }) }`;
                if (i < 100) {
                  iterate(i + 1);
                }
            }, 1000);
        })(0);
        document.body.appendChild(p);

        //Task 2

        var typeMessage = ( function ( velocity ) {
          let container = document.getElementById ( "demo" ) ?
              document.getElementById ( "demo" ) :
              document.body.appendChild (
                  document.createElement ( "h3" )
              )
          container.style = `color: magenta;`
          var index = 0
          return function ( message ) {
            var int = setInterval(function () {
              container.innerHTML += `${ message[index]}`
              if (index === message.length - 1) {
                clearInterval(int);
              }
              index++;
            }, velocity * 1000);
          }
        })(1)
        
        typeMessage ( `Welcome to the hell` )

        //Task 3

        var count = 0;
        function User ( name ) {
          var counter = function() {
            return count = count + 1; 
          }
          
          this.name = name
          this.id = counter()
        }
        
        var users = [
          new User ( "Семен" ),
          new User ( "Антон" ),
          new User ( "Демьян" ),
          new User ( "Василий" )
        ]
        
        console.log(users)
        console.log(users[1].id = users[1].counter());

      </code>
    </pre>
  </div>

  <hr class="split-homeworks">


  <h1 id="hw9">Homework 9</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Завершите код функции typeMessage так, чтобы на страницу выводился один символ в секунду
    </p> 

    <h3>Task 2</h3>
    <p>
      Напилите код методов setUserPresent, showPresent и showAbsent
      После запуска кода результат в консоли должен быть таким:
      Иван Дмитрий Степан Михаил
      а после выполнения кода:
      users.setUserPresent( "Иван", "+" )
      users.setUserPresent( "Михаил", "присутствовал" )
      users.setUserPresent( "Степан", true )
      users.showPresent()
      результат в консоли должен быть таким:
      Иван Степан Михаил
    </p>
    
    <h3>Task 3</h3>
    <p>
      Допилите код функции changeClass, которая парсит все стили страницы 
      в поисках заданного класса, а затем меняет атрибуты стиля этого класса
      После вызова функции:
      в консоли страницы, где есть элементы с классом second-level-menu, 
      у всех элементов этого класса цвет фона должен измениться на красный
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent9">

    <pre>
      <code data-language="javascript"> 
        //Task 1

        function typeMessage(message, velocity) {
          var container = document.getElementById("demo") ?
              document.getElementById("demo") :
              document.body.appendChild(
                  document.createElement("h3")
              )
          container.style = `color: magenta;`
          var index = 0;
          return (function() {
              var int = setInterval(function () {
                container.innerHTML += `${ message[index]}`
                if (index === message.length - 1) {
                  clearInterval(int);
                }
                index++;
              }, velocity * 1000);
            })()
        }
        
        typeMessage(`Welcome to the hell`, 1)

        //Task2

        var users = (
          function ( list ) {
              var users = []
              for ( var user of list )
                  users.push ({
                      name: user,
                      present: false
                  })
              var absentUsers = [];
              var presentUsers = [];
              return {
                  setUserPresent ( userName, present ) {
                    users.forEach(user => {
                      if(user.name === userName) {
                        user.name = userName
                        user.present = present
                      }
                    })
                  },
                  showPresent () {
                    users.filter(user => {
                      if(user.present !== false) {
                        presentUsers.push(user.name)
                      }
                    })
                    return presentUsers;
                  },
                  showAbsent () {
                    users.filter(user => {
                      if(user.present === false) {
                        absentUsers.push(user.name)
                      }
                    });
                    return absentUsers;
                  }
              }
          }
        )( [ "Иван", "Дмитрий", "Степан", "Михаил" ] )

        console.log(users.showAbsent());

        users.setUserPresent( "Иван", "+" )
        users.setUserPresent( "Михаил", "присутствовал" )
        users.setUserPresent( "Степан", true )

        console.log(users.showPresent());

        //Task3

        let changeClass = ( classname, styleString ) => ( 
          Array.from ( document.styleSheets )
            .filter ( sheet => !sheet.href )
                .map (
                  sheet => Array.from ( sheet.cssRules )
                    .filter ( rule => rule.selectorText === `.${classname}` )
                )
                  .filter ( item => item.length > 0 )
                    .map ( item => item[0].cssText.split ("}")
                      .join ( `${styleString}}` )
                    )
        ).length > 0 ? console.log ( "found" ) : 
            document.head.appendChild (
                document.createElement ( "style" )
            ).textContent = `.${classname} {${styleString}}`

        changeClass ( "layout", "background-color: red!important;" )

      </code>
    </pre>
  </div>

  <hr class="split-homeworks">

  <h1 id="hw10">Homework 10</h1>
  <div class="task" >
    
    <h3>Task 1</h3>
    <p>
      Логирование поступающих сообщений в объекте log
      Задан массив сообщений и пустой объект log:<br>
      Далее, есть функция, отправляющая сообщения в случайном порядке в случайное время: sendMessage()<br>
      Обратите внимание, что эта функция получает при вызове не только текст сообщения, <br>но и колбэк-функцию, которой нужно передать это сообщение
      С помощью кода:<br>
      инициируем отправку сообщений
      Ваша задача - напилить код функции handler,<br>
      которая получает сообщение и заносит его в объект log
      в виде нового свойства,<br>
      значение которого - текст поступившего сообщения,<br>
      а ключ ( имя свойства ) - это время поступления сообщения ( в виде строки )
    </p> 

    <h3>Task 2</h3>
    <p>
      Допилите код конструктора User, дополнив его акцессорами приватного свойства presence так, чтобы после выполнения скрипта:
      console.info ( user.presence ) в консоли было:<br>
      "Ivan is absent" а после выполнения кода:<br>
      user.presence = "+" console.info ( user.presence )<br>
      в консоли было: "Ivan is present"
    </p>
    
    <h3>Task 3</h3>
    <p>
      Объявить функцию-конструктор User<br>
      Конструктор должен принимать аргументы, описывающие юзера
      Статические свойства и методы конструктора<br>
      У конструктора должны быть следующие не наследуемые экземплярами свойства и методы<br>
      Собственные свойства экземпляров
      name ( имя пользователя )
      email
      photoURL ( URL фотографии пользователя )<br>
      Конструктор должен иметь дефолтные значения для всех аргументов<br>
      дефолтное значение URL фотографии пользователя должно быть результатом работы статического метода getAvatar<br>
      Унаследованные свойства экземпляров
      неперечислимое неизменяемое свойство messageBox - элемент DOM<br>
      messageBox - это контейнер, куда будут выводиться сообщения всех пользователей и admin<br>
      при выводе сообщения пользователя в messageBox должны отображаться его аватар и имя<br>
      унаследованные методы write и read
      запись осуществляется в messageBox, чтение - из messageBox<br>
      при вводе в messageBox пишущий сообщение идентифицируется как админ, выводится его аватар и имя
    </p>
  </div>

  <div class="solution" contenteditable="true" id="scriptContent10">

    <pre>
      <code data-language="javascript"> 
        //Task 1

        var messages = [
          "backspace",
          "enter",
          "shift",
          "control",
          "delete",
          "space",
          "subtract"
        ]

        var log = {}

        var sendMessage = ( message, callback ) => 
        setTimeout (
            () => callback ( message ),
            Math.random () * 7000
        )

        function handler (message) {
          Object.defineProperty ( log, getKey(), {
              value: message,
              enumerable: true,
              configurable: true
          })
        }	

        messages.forEach (
          message => sendMessage ( message, handler )
        )

        getKey = () => {
        var key = new Date().toLocaleString().split(", ")[1]
        return log [ key ] ? key + "[2]" : key
        }

        console.log (log)

        //Task2

        function User ( name ) {
          this.name = name
          var presence = false
        
          Object.defineProperty(this, "presence", {
            get: () => {
              if(presence) {
                return `${this.name} is present`
              } else  return `${this.name} is absent`
            },
          
            set: newPresense =>	presence = newPresense
          });
        }
        
        let user = new User ( "Ivan" )
        console.log(user);
        console.log ( user.presence )
        user.presence = "+"
        console.log ( user.presence )
        console.log(user);
       
        //Task 3

        function User(name, email) {
          this.name = name
          this.email = email
        
          this.write = (message, image) => {
            let image1 = document.getElementById('imgId');
            let paragraph = document.getElementById('pId');
            let text = document.getElementById('textId');
        
            text.innerText = message;
            paragraph.innerText = this.name;
            image1.src = image
          };
        }
        
        User.avatars = [
          "https://cdn4.iconfinder.com/data/icons/user-avatar-flat-icons/512/User_Avatar-31-512.png",
          "http://icons.iconarchive.com/icons/hopstarter/face-avatars/256/Male-Face-L3-icon.png",
          "https://findicons.com/files/icons/1072/face_avatars/300/i05.png",
          "http://www.iconarchive.com/download/i51043/hopstarter/halloween-avatars/Gomez.ico",
          "http://icons.iconarchive.com/icons/hopstarter/halloween-avatars/256/Zombie-2-icon.png",
          "https://vignette.wikia.nocookie.net/yogscast/images/8/8a/Avatar_Turps_2015.jpg"
        ]
        
        User.admin = {
          photoURL: "https://i.pinimg.com/originals/3d/47/4f/3d474f82ff71595e8081f9a120892ae8.gif",
          name: "admin"
        }
        
        User.messageBox = (function() {
          let mainDiv = document.createElement('div');
          let wrapper = document.createElement('div')
          let img = document.createElement('img');
          let p =  document.createElement('p');
          let textarea = document.createElement('textarea');
          img.id = 'imgId';
          p.id = 'pId';
          textarea.id = 'textId';
          textarea.placeholder = `User...`
        
          mainDiv.style = `width: 400px; height: 350px; margin: 0 auto; border: 1px solid black;`
          wrapper.style=`width: 100%; height: 90px; background: black; display: flex;`
          img.style = `width: 25%; height: 70px; padding: 10px;`
          p.style = `width: 75%; color: white; font-size: 17px; padding: 15px 10px;`
          textarea.style = `width: 100%; height: 260px; resize: none;`
          wrapper.appendChild(img);
          wrapper.appendChild(p);
          mainDiv.appendChild(wrapper);
          mainDiv.appendChild(textarea);
        
          textarea.oninput = function()  {
            img.src = User.admin.photoURL
            p.innerText = User.admin.name
            textarea.innerText = ` `;
          }
          document.body.appendChild(mainDiv);
        })()
        
        var users = [
          new User ( "Иван" ),
          new User ( 'Alex', "alex@gmail.com" ),
          new User ( 'Bob', "bob777@gmail.com" ),
          new User ( 'Dima', "dima888@gmail.com" ),
          new User ( 'Fima', "fima999@gmail.com" )
        ]
        
        var k = 1
        users.forEach ( 
          function ( user, idx ) {
              setTimeout ( 
                  function () {
                      user.write ( `Hello, I'm ${user.name}`, User.avatars[idx] )
                  }, 3000 * k++
              )
          }
        )

      </code>
    </pre>
  </div>

  <hr class="split-homeworks">

  </div>

  <script src="./scripts/rainbow-custom.min.js"></script>
  <script src="./scripts/genericjs.js"></script>
  <script src="./scripts/main.js"></script>
</body>
</html>